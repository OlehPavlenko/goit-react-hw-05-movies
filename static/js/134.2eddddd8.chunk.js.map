{"version":3,"file":"static/js/134.2eddddd8.chunk.js","mappings":"mLAAaA,EAAS,SAAC,GAAD,IAAGC,EAAH,EAAGA,QAAH,OAClB,0BACI,mBAAQC,KAAK,SAASD,QAASA,EAA/B,wBAFc,C,0ECCtB,EAA2B,2BAA3B,EAAsE,gCAAtE,EAA8G,wB,SCIjGE,EAAW,SAAC,GAAc,IAAZC,EAAW,EAAXA,KACvB,OACI,gBAAkBC,UAAWC,EAA7B,WACI,gBAAKC,IAAKC,EAAAA,GAAeJ,EAAKK,YAAaC,GAAIN,EAAKM,GAAIC,IAAKP,EAAKQ,MAAOP,UAAWC,IACnFF,EAAKQ,OACF,gBAAIF,GAAIN,EAAKM,GAAIL,UAAWC,EAA5B,cAA4CF,EAAKQ,MAAjD,QAEA,eAAIF,GAAIN,EAAKM,GAAIL,UAAWC,EAA5B,SAA2CF,EAAKS,SAL/CT,EAAKM,GASrB,C,mICgED,UAvEe,WACX,OAA4BI,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAAwBF,EAAAA,EAAAA,UAAS,GAAjC,eAAOG,EAAP,KAAaC,EAAb,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMR,EAAOO,EAAaE,IAAI,QAC9B,GAA0BR,EAAAA,EAAAA,UAAS,IAAnC,eAAOS,EAAP,KAAcC,EAAd,KACA,GAA4BV,EAAAA,EAAAA,UAASW,EAAAA,EAAAA,MAArC,eAAOC,EAAP,KAAeC,EAAf,KACMC,GAAWC,EAAAA,EAAAA,OAGjBC,EAAAA,EAAAA,YAAU,WACN,GAAa,OAATjB,EAAJ,CACA,GAAa,KAATA,EACA,OAAOkB,MAAM,YAEjBJ,EAAUF,EAAAA,EAAAA,SACVT,EAAU,KAEVgB,EAAAA,EAAAA,IAAkBnB,EAAMI,GACnBgB,MAAK,SAAAC,GAAQ,OAAIA,EAASC,OAAb,IACbF,MAAK,SAAAG,GACFpB,EAAUoB,GACVlB,EAAQD,GACRU,EAAUF,EAAAA,EAAAA,SACb,IACAY,OAAM,SAAAd,GACHC,EAASD,EAAMe,SACfX,EAAUF,EAAAA,EAAAA,SACb,GAjBoB,CAkB5B,GAAE,CAACZ,EAAMI,IAYV,OAAIS,IAAWD,EAAAA,EAAAA,SACJ,SAAC,IAAD,CAAQc,OAAQC,EAAAA,KAGvBd,IAAWD,EAAAA,EAAAA,UACNF,EAAMe,SAIX,iCACI,kBAAMG,SApBO,SAAAC,GACjBA,EAAEC,iBACF,IAAMC,EAAOF,EAAEG,cACfxB,EAAgB,CAAER,KAAM+B,EAAK/B,KAAKiC,QAClCF,EAAKG,OACR,EAeO,WACI,kBAAO7C,KAAK,OAAOW,KAAK,UACxB,mBAAQX,KAAK,SAAb,uBAEFwB,IAAWD,EAAAA,EAAAA,WACR,4BACG,eAAIpB,UAAWC,EAAAA,EAAAA,QAAf,SACKS,EAAOiC,KAAI,SAAAC,GAAK,OACb,SAAC,KAAD,CAAMC,GAAE,kBAAaD,EAAMvC,IAAMyC,QAASF,EAAMvC,GAAmB0C,MAAO,CAAEC,KAAMzB,GAAlF,UACI,SAAC,IAAD,CAAUxB,KAAM6C,GAAYA,EAAMvC,KADmBuC,EAAMvC,GADlD,OAMrB,SAAC,IAAD,CAAQT,QA3BP,WACbiB,GAAQ,SAAAoC,GAAQ,OAAIA,EAAW,CAAf,GACnB,EAyBe,6BAInB,C,uGC7ED,IAAMC,EAAW,+BACXC,EAAU,mCACVhD,EAAe,iC,mKCARiD,EAAqB,SAAAvB,GAC9B,GAAIA,EAASwB,GACT,OAAOxB,EAASyB,OAGpB,MADAC,QAAQrC,MAAM,oBAAqBW,EAASR,QACtC,IAAImC,MAAM,kCACnB,EACD,SAASC,EAAe7C,GACpB,OAAO8C,MAAM,GAAD,OACLR,EAAAA,GADK,qCACgCC,EAAAA,GADhC,gCAC+DvC,EAD/D,yBAEVgB,KAAKwB,EACV,CAED,SAASzB,EAAkBjB,EAAQE,GAC/B,OAAO8C,MAAM,GAAD,OACLR,EAAAA,GADK,iCAC4BC,EAAAA,GAD5B,gCAC2DvC,EAD3D,sCAC6FF,IACvGkB,KAAKwB,EACV,CACD,SAASO,EAAqBb,GAC1B,OAAOY,MAAM,GAAD,OACLR,EAAAA,GADK,kBACaJ,EADb,oBACgCK,EAAAA,GADhC,oBAEVvB,KAAKwB,EACV,CACD,SAASQ,EAAqBd,GAC1B,OAAOY,MAAM,GAAD,OACLR,EAAAA,GADK,kBACaJ,EADb,4BACwCK,EAAAA,GADxC,oBAEVvB,KAAKwB,EACV,CACD,SAASS,EAAqBf,GAC1B,OAAOY,MAAM,GAAD,OACLR,EAAAA,GADK,kBACaJ,EADb,4BACwCK,EAAAA,GADxC,oBAEVvB,KAAKwB,EACV,C,sDClCM,IAAMhC,EAAgB,CACzB0C,KAAM,OACNC,QAAS,UACTC,SAAU,WACVC,SAAU,W,oBCHd,KAAgB,QAAU,6B","sources":["components/Button/Button.jsx","webpack://react-homework-template/./src/components/Home/CardFilm.module.css?4947","components/Home/CardFilm.jsx","pages/Movies.jsx","services/ApiBaseUrl.jsx","services/ApiServices.jsx","services/loadingStatus.jsx","webpack://react-homework-template/./src/components/Home/GalleryFilm.module.css?1b81"],"sourcesContent":["export const Button = ({ onClick }) => (\n    <div>\n        <button type=\"button\" onClick={onClick}>\n            Load more\n        </button>\n    </div>\n);","// extracted by mini-css-extract-plugin\nexport default {\"cardItem\":\"CardFilm_cardItem__SW2d+\",\"cardItemImage\":\"CardFilm_cardItemImage__EKkUA\",\"title\":\"CardFilm_title__R78gF\"};","import React from 'react';\nimport { BASE_IMG_URL } from 'services/ApiBaseUrl';\nimport styles from './CardFilm.module.css'\n\n\nexport const CardFilm = ({ film }) => {\n    return (\n        <li key={film.id} className={styles.cardItem}>\n            <img src={BASE_IMG_URL + film.poster_path} id={film.id} alt={film.title} className={styles.cardItemImage} />\n            {film.title ? (\n                <h2 id={film.id} className={styles.title}> {film.title} </h2>\n            ) : (\n                <h2 id={film.id} className={styles.title}>{film.name}</h2>\n            )}\n        </li>\n    );\n};","import React, { useState, useEffect } from 'react';\nimport { fetchMoviesByName } from 'services/ApiServices';\nimport { useSearchParams, Link, useLocation} from 'react-router-dom';\nimport { CardFilm } from 'components/Home/CardFilm';\nimport { Button } from 'components/Button/Button';\nimport { Loader } from 'components/Loader/Loader';\nimport { loadingStatus } from 'services/loadingStatus';\nimport styles from 'components/Home/GalleryFilm.module.css'\n\nconst Movies = () => {\n    const [movies, setMovies] = useState([]);\n    const [page, setPage] = useState(1);\n    const [searchParams, setSearchParams] = useSearchParams();\n    const name = searchParams.get('name');\n    const [error, setError] = useState('');\n    const [status, setStatus] = useState(loadingStatus.IDLE);\n    const location = useLocation()\n    \n    \n    useEffect(() => {\n        if (name === null) return;\n        if (name === '') {\n            return alert('not name')\n        }\n        setStatus(loadingStatus.PENDING);\n        setMovies([]);\n        \n        fetchMoviesByName(name, page)\n            .then(response => response.results)\n            .then(films => {\n                setMovies(films);\n                setPage(page);\n                setStatus(loadingStatus.RESOLVED);\n            })\n            .catch(error => {\n                setError(error.message);\n                setStatus(loadingStatus.REJECTED);\n            });\n    }, [name, page]);\n\n    const handleSubmit = e => {\n        e.preventDefault();\n        const form = e.currentTarget;\n        setSearchParams({ name: form.name.value });\n        form.reset();\n    };\n    const loreMore = () => {\n        setPage(prevPage => prevPage + 1);\n    };\n\n    if (status === loadingStatus.PENDING) {\n        return <Loader loader={Loader} />;\n    }\n\n    if (status === loadingStatus.RESOLVED) {\n        <h2>{error.message}</h2>;\n    }\n\n    return (\n        <>\n            <form onSubmit={handleSubmit}>\n                <input type=\"text\" name=\"name\" />\n                <button type=\"submit\">Search</button>\n            </form>\n            {(status === loadingStatus.RESOLVED) &&\n                (<div>\n                    <ul className={styles.gallery}>\n                        {movies.map(movie => (\n                            <Link to={`/movies/${movie.id}`} movieId={movie.id} key={movie.id} state={{ from: location }} >\n                                <CardFilm film={movie} key={movie.id} />\n                            </Link>\n                        ))}\n                    </ul>\n                    <Button onClick={loreMore}>Load more</Button></div>)}\n        </>\n    );\n    \n};\n\n\nexport default Movies;","const BASE_URL = \"https://api.themoviedb.org/3\";\nconst API_KEY = \"d606ba07975f32ffc0c32900ad602a69\";\nconst BASE_IMG_URL = \"https://image.tmdb.org/t/p/w300\";\n\nexport { BASE_URL, API_KEY, BASE_IMG_URL };","import { BASE_URL, API_KEY } from './ApiBaseUrl';\n\nexport const handleResponseLink = response => {\n    if (response.ok) {\n        return response.json();\n    }\n    console.error('server response: ', response.status);\n    throw new Error('Sorry, something went wrong ...');\n};\nfunction fetchMoviesDay(page) {\n    return fetch(\n        `${BASE_URL}/trending/all/day?api_key=${API_KEY}&language=en-US&page=${page}&include_adult=false`\n    ).then(handleResponseLink);\n}\n\nfunction fetchMoviesByName(movies, page) {\n    return fetch(\n        `${BASE_URL}/search/movie?api_key=${API_KEY}&language=en-US&page=${page}&include_adult=false&query=${movies}`\n    ).then(handleResponseLink);\n}\nfunction fetchMoviesByDetails(movieId) {\n    return fetch(\n        `${BASE_URL}/movie/${movieId}?api_key=${API_KEY}&language=en-US`\n    ).then(handleResponseLink);\n}\nfunction fetchMoviesByCredits(movieId) {\n    return fetch(\n        `${BASE_URL}/movie/${movieId}/credits?api_key=${API_KEY}&language=en-US`\n    ).then(handleResponseLink);\n}\nfunction fetchMoviesByReviews(movieId) {\n    return fetch(\n        `${BASE_URL}/movie/${movieId}/reviews?api_key=${API_KEY}&language=en-US`\n    ).then(handleResponseLink);\n}\n\nexport {\n    fetchMoviesByName,\n    fetchMoviesDay,\n    fetchMoviesByDetails,\n    fetchMoviesByCredits,\n    fetchMoviesByReviews,\n};","export const loadingStatus = {\n    IDLE: \"idle\",\n    PENDING: \"pending\",\n    RESOLVED: \"resolved\",\n    REJECTED: \"rejected\",\n};","// extracted by mini-css-extract-plugin\nexport default {\"gallery\":\"GalleryFilm_gallery__oFjeQ\"};"],"names":["Button","onClick","type","CardFilm","film","className","styles","src","BASE_IMG_URL","poster_path","id","alt","title","name","useState","movies","setMovies","page","setPage","useSearchParams","searchParams","setSearchParams","get","error","setError","loadingStatus","status","setStatus","location","useLocation","useEffect","alert","fetchMoviesByName","then","response","results","films","catch","message","loader","Loader","onSubmit","e","preventDefault","form","currentTarget","value","reset","map","movie","to","movieId","state","from","prevPage","BASE_URL","API_KEY","handleResponseLink","ok","json","console","Error","fetchMoviesDay","fetch","fetchMoviesByDetails","fetchMoviesByCredits","fetchMoviesByReviews","IDLE","PENDING","RESOLVED","REJECTED"],"sourceRoot":""}