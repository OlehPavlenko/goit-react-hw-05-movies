"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[134],{609:function(n,e,t){t.d(e,{z:function(){return c}});var r=t(184),c=function(n){var e=n.onClick;return(0,r.jsx)("div",{children:(0,r.jsx)("button",{type:"button",onClick:e,children:"Load more"})})}},774:function(n,e,t){t.d(e,{g:function(){return u}});t(791);var r=t(986),c="CardFilm_cardItem__SW2d+",a="CardFilm_cardItemImage__EKkUA",i="CardFilm_title__R78gF",o=t(184),u=function(n){var e=n.film;return(0,o.jsxs)("li",{className:c,children:[(0,o.jsx)("img",{src:r.YQ+e.poster_path,id:e.id,alt:e.title,className:a}),e.title?(0,o.jsxs)("h2",{id:e.id,className:i,children:[" ",e.title," "]}):(0,o.jsx)("h2",{id:e.id,className:i,children:e.name})]},e.id)}},134:function(n,e,t){t.r(e);var r=t(885),c=t(791),a=t(74),i=t(501),o=t(871),u=t(774),l=t(609),s=t(323),f=t(795),d=t(934),h=t(184);e.default=function(){var n=(0,c.useState)([]),e=(0,r.Z)(n,2),t=e[0],m=e[1],g=(0,c.useState)(1),_=(0,r.Z)(g,2),p=_[0],v=_[1],E=(0,i.lr)(),j=(0,r.Z)(E,2),x=j[0],S=j[1],k=x.get("name"),y=(0,c.useState)(""),U=(0,r.Z)(y,2),b=U[0],D=U[1],w=(0,c.useState)(f.U.IDLE),N=(0,r.Z)(w,2),C=N[0],I=N[1],L=(0,o.TH)();(0,c.useEffect)((function(){if(null!==k){if(""===k)return alert("not name");I(f.U.PENDING),m([]),(0,a.Pv)(k,p).then((function(n){return n.results})).then((function(n){m(n),v(p),I(f.U.RESOLVED)})).catch((function(n){D(n.message),I(f.U.REJECTED)}))}}),[k,p]);return C===f.U.PENDING?(0,h.jsx)(s.a,{loader:s.a}):(C===f.U.RESOLVED&&b.message,(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("form",{onSubmit:function(n){n.preventDefault();var e=n.currentTarget;S({name:e.name.value}),e.reset()},children:[(0,h.jsx)("input",{type:"text",name:"name"}),(0,h.jsx)("button",{type:"submit",children:"Search"})]}),C===f.U.RESOLVED&&(0,h.jsxs)("div",{children:[(0,h.jsx)("ul",{className:d.Z.gallery,children:t.map((function(n){return(0,h.jsx)(i.rU,{to:"/movies/".concat(n.id),movieId:n.id,state:{from:L},children:(0,h.jsx)(u.g,{film:n},n.id)},n.id)}))}),(0,h.jsx)(l.z,{onClick:function(){v((function(n){return n+1}))},children:"Load more"})]})]}))}},986:function(n,e,t){t.d(e,{$h:function(){return c},YQ:function(){return a},_n:function(){return r}});var r="https://api.themoviedb.org/3",c="d606ba07975f32ffc0c32900ad602a69",a="https://image.tmdb.org/t/p/w300"},74:function(n,e,t){t.d(e,{Hb:function(){return a},Pv:function(){return i},Rb:function(){return u},tM:function(){return l},wP:function(){return o}});var r=t(986),c=function(n){if(n.ok)return n.json();throw console.error("server response: ",n.status),new Error("Sorry, something went wrong ...")};function a(n){return fetch("".concat(r._n,"/trending/all/day?api_key=").concat(r.$h,"&language=en-US&page=").concat(n,"&include_adult=false")).then(c)}function i(n,e){return fetch("".concat(r._n,"/search/movie?api_key=").concat(r.$h,"&language=en-US&page=").concat(e,"&include_adult=false&query=").concat(n)).then(c)}function o(n){return fetch("".concat(r._n,"/movie/").concat(n,"?api_key=").concat(r.$h,"&language=en-US")).then(c)}function u(n){return fetch("".concat(r._n,"/movie/").concat(n,"/credits?api_key=").concat(r.$h,"&language=en-US")).then(c)}function l(n){return fetch("".concat(r._n,"/movie/").concat(n,"/reviews?api_key=").concat(r.$h,"&language=en-US")).then(c)}},795:function(n,e,t){t.d(e,{U:function(){return r}});var r={IDLE:"idle",PENDING:"pending",RESOLVED:"resolved",REJECTED:"rejected"}},934:function(n,e){e.Z={gallery:"GalleryFilm_gallery__oFjeQ"}}}]);
//# sourceMappingURL=134.2eddddd8.chunk.js.map